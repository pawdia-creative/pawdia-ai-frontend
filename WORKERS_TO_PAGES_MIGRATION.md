# Cloudflare Workers åˆ° Pages è¿ç§»æŒ‡å—

## ğŸš¨ é—®é¢˜è¯Šæ–­

ä½ çš„é¡¹ç›®å½“å‰è¢« Cloudflare é”™è¯¯åœ°è¯†åˆ«ä¸º Workers é¡¹ç›®ï¼Œè€Œä¸æ˜¯ Pages é¡¹ç›®ã€‚è¿™å¯¼è‡´ Cloudflare æ‰§è¡Œ `npx wrangler deploy` å‘½ä»¤ï¼Œä»è€Œå‡ºç° "Missing entry-point to Worker script" é”™è¯¯ã€‚

## ğŸ“‹ æ ¹æœ¬åŸå› 

1. **é¡¹ç›®ç±»å‹é…ç½®é”™è¯¯**ï¼šåœ¨ Cloudflare Dashboard ä¸­ï¼Œé¡¹ç›®è¢«è®¾ç½®ä¸º Workers è€Œä¸æ˜¯ Pages
2. **éƒ¨ç½²å‘½ä»¤é”™è¯¯**ï¼šCloudflare æ­£åœ¨å°è¯•éƒ¨ç½² Workers è„šæœ¬è€Œä¸æ˜¯é™æ€èµ„äº§

## ğŸ”§ è§£å†³æ–¹æ¡ˆ

### æ­¥éª¤ 1: åˆ é™¤ç°æœ‰é¡¹ç›®ï¼ˆå¿…é¡»ï¼‰

1. ç™»å½• Cloudflare Dashboard
2. æ‰¾åˆ°ä½ çš„å½“å‰é¡¹ç›®
3. **å®Œå…¨åˆ é™¤**ç°æœ‰çš„ Workers é¡¹ç›®ï¼ˆè¿™ä¸æ˜¯ç¦ç”¨ï¼Œæ˜¯åˆ é™¤ï¼‰
4. ç­‰å¾…åˆ é™¤å®Œæˆ

### æ­¥éª¤ 2: åˆ›å»ºæ–°çš„ Pages é¡¹ç›®

1. åœ¨ Cloudflare Dashboard ä¸­ï¼Œç‚¹å‡» "Workers & Pages"
2. ç‚¹å‡» "Create application"
3. é€‰æ‹© **Pages** æ ‡ç­¾é¡µï¼ˆä¸æ˜¯ Workersï¼‰
4. è¿æ¥ä½ çš„ GitHub ä»“åº“

### æ­¥éª¤ 3: é…ç½®æ„å»ºè®¾ç½®

åœ¨ Pages é¡¹ç›®è®¾ç½®ä¸­ï¼Œé…ç½®ä»¥ä¸‹é€‰é¡¹ï¼š

- **Framework preset**: Vite
- **Build command**: `npm run build`
- **Build output directory**: `frontend-separation/dist`
- **Install command**: `npm install`

### æ­¥éª¤ 4: è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰

åœ¨ Pages é¡¹ç›®çš„ Settings â†’ Environment variables ä¸­æ·»åŠ ï¼š

```
VITE_API_URL=https://your-api-domain.com/api
VITE_AI_API_KEY=your-ai-api-key  # å¦‚æœéœ€è¦AIåŠŸèƒ½
```

## ğŸ“ é¡¹ç›®æ–‡ä»¶è¯´æ˜

ä½ çš„é¡¹ç›®ç°åœ¨åŒ…å«ä»¥ä¸‹å…³é”®é…ç½®æ–‡ä»¶ï¼š

### å‰ç«¯é…ç½®æ–‡ä»¶
- `wrangler.jsonc` - æ˜ç¡®æŒ‡å®šè¿™æ˜¯é™æ€èµ„äº§éƒ¨ç½²ï¼Œç¦ç”¨ Workers åŠŸèƒ½
- `pages.json` - Pages é¡¹ç›®é…ç½®
- `.pages.toml` - Pages æ„å»ºè®¾ç½®
- `package.json` - åŒ…å«æ˜ç¡®çš„ "deploy" è„šæœ¬

### ä»£ç ä¿®å¤
- âœ… æ‰€æœ‰ç¡¬ç¼–ç çš„ `localhost:3001` å·²ç§»é™¤
- âœ… æ‰€æœ‰ API å¯†é’¥å·²ç§»åˆ°ç¯å¢ƒå˜é‡
- âœ… æ·»åŠ äº†é€‚å½“çš„é”™è¯¯å¤„ç†
- âœ… åˆ›å»ºäº†ç¯å¢ƒå˜é‡æ–‡æ¡£

## ğŸ” éªŒè¯æ­¥éª¤

éƒ¨ç½²æˆåŠŸåï¼ŒéªŒè¯ä»¥ä¸‹å‡ ç‚¹ï¼š

1. **é¡¹ç›®ç±»å‹**: åœ¨ Dashboard ä¸­åº”è¯¥æ˜¾ç¤ºä¸º "Pages" è€Œä¸æ˜¯ "Workers"
2. **éƒ¨ç½²å‘½ä»¤**: åº”è¯¥ä¸å†çœ‹åˆ° `npx wrangler deploy` å‘½ä»¤
3. **æ„å»ºæ—¥å¿—**: åº”è¯¥æ˜¾ç¤º "Build complete" è€Œä¸æ˜¯ Workers ç›¸å…³çš„éƒ¨ç½²ä¿¡æ¯
4. **è®¿é—®ç½‘ç«™**: åº”è¯¥èƒ½å¤Ÿæ­£å¸¸è®¿é—®ä½ çš„å‰ç«¯åº”ç”¨

## âš ï¸ é‡è¦æé†’

- **ä¸è¦è·³è¿‡åˆ é™¤æ­¥éª¤**ï¼šå¿…é¡»å®Œå…¨åˆ é™¤æ—§çš„ Workers é¡¹ç›®
- **é€‰æ‹©æ­£ç¡®çš„é¡¹ç›®ç±»å‹**ï¼šåˆ›å»ºæ–°é¡¹ç›®æ—¶åŠ¡å¿…é€‰æ‹© Pages æ ‡ç­¾é¡µ
- **ä½¿ç”¨ç¯å¢ƒå˜é‡**ï¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ `VITE_API_URL` æŒ‡å‘ä½ çš„åç«¯API

## ğŸ†˜ å¦‚æœä»ç„¶å¤±è´¥

å¦‚æœæŒ‰ç…§è¿™äº›æ­¥éª¤ä»ç„¶å¤±è´¥ï¼Œè¯·ï¼š

1. æ£€æŸ¥ Cloudflare è´¦æˆ·æ˜¯å¦æœ‰ Pages åŠŸèƒ½æƒé™
2. ç¡®è®¤ GitHub ä»“åº“è¿æ¥æ­£ç¡®
3. éªŒè¯æ‰€æœ‰é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®æäº¤åˆ° GitHub
4. å°è¯•ä½¿ç”¨ Cloudflare çš„ CLI å·¥å…·è¿›è¡Œéƒ¨ç½²è¯Šæ–­

è¿™ä¸ªä¿®å¤æ–¹æ¡ˆåº”è¯¥èƒ½è§£å†³ä½ é‡åˆ°çš„æ‰€æœ‰ Cloudflare éƒ¨ç½²é—®é¢˜ã€‚